# =========================================================
# 0. 通用設定（每隻 worker 建議都要填）
# =========================================================
APP_ENV=dev
LOG_LEVEL=INFO  # Changed from ERROR to INFO for debugging visibility

SITE_UID=s001
DEVICE_UID=d0001

CONN_NAME=user_default
DRY_RUN=false

# =========================================================
# 1. MNX / RabbitMQ
# =========================================================
# MNXNexlib 專案根目錄 (macOS Path)
MNX_LIB_ROOT=/Users/eric/nex
NEXCORE_DIR=${MNX_LIB_ROOT}/NexCore

# RabbitMQ Config File
RMQ_CFG_FILENAME=rabbitmq_cfg.json
# Absolute path
RMQ_CFG_PATH=${NEXCORE_DIR}/${RMQ_CFG_FILENAME}

RMQ_CONN_NAME=user_default

# =========================================================
# 2. MQTT
# =========================================================
MQTT_HOST=
MQTT_PORT=1883
MQTT_CLIENT_ID=abh-gw-s001-d0001
MQTT_QOS=1
MQTT_KEEPALIVE=60
MQTT_CLEAN_SESSION=true
MQTT_RECONNECT_DELAY=5

# =========================================================
# 3. Modbus TCP
# =========================================================
MODBUS_CONNECTOR_NAME=user_default
MODBUS_PROTOCOL_TYPE=Modbus TCP

MODBUS_HOST=192.168.2.1
MODBUS_PORT=3000
MODBUS_SLAVE_ID=1
MODBUS_FUNCTION_CODE=3

MODBUS_REGISTERS_MAPPING=[{"index":0,"key":"humidity","unit":0.1,"decimals":1},{"index":1,"key":"temperature","unit":0.1,"decimals":1}]

READ_INTERVAL_SEC=2
MODBUS_TIMEOUT=2

# =========================================================
# 4. Modbus RTU (Serial)
# =========================================================
SERIAL_PORT=/dev/cu.usbserial-0001
RTU_BAUD=4800
RTU_BYTESIZE=8
RTU_PARITY=N
RTU_STOPBITS=2
RTU_TIMEOUT=2
RTU_UNIT=1
RTU_READ_INTERVAL_SEC=2

# =========================================================
# 6. Storage
# =========================================================
STO_CFG_FILENAME=storage_cfg.json
STO_CFG_PATH=${MNX_LIB_ROOT}/NexSto/${STO_CFG_FILENAME}
STO_CONN_NAME=user_default

# =========================================================
# 7. Other
# =========================================================
WORKER_NAME=s001d0001
WORKER_VERSION=1.0.0
